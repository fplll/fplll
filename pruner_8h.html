<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <!-- For Mobile Devices -->
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
        <meta name="generator" content="Doxygen 1.9.4"/>
        <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
        <title>fplll: fplll/pruner/pruner.h File Reference</title>
        <!--<link href="tabs.css" rel="stylesheet" type="text/css"/>-->
        <script type="text/javascript" src="dynsections.js"></script>
        <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
        <script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js"></script>
        <link href="doxygen.css" rel="stylesheet" type="text/css" />
        <link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
        <link href='https://fonts.googleapis.com/css?family=Roboto+Slab' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/jquery.smartmenus/1.0.1/addons/bootstrap/jquery.smartmenus.bootstrap.css" rel="stylesheet">
        <script type="text/javascript" src="jquery.smartmenus.js"></script>
        <!-- SmartMenus jQuery Bootstrap Addon -->
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery.smartmenus/1.0.1/addons/bootstrap/jquery.smartmenus.bootstrap.js"></script>
        <!-- SmartMenus jQuery plugin -->
    </head>
    <body>
        <nav class="navbar navbar-default" role="navigation">
            <div class="container">
                <div class="navbar-header">
                    <a class="navbar-brand">fplll 5.4.4</a>
                </div>
            </div>
        </nav>
        <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
            <div class="content" id="content">
                <div class="container">
                    <div class="row">
                        <div class="col-sm-12 panel " style="padding-bottom: 15px;">
                            <div style="margin-bottom: 15px;">
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_648eb9a0262415100be037a83da51ec4.html">fplll</a></li><li class="navelem"><a class="el" href="dir_1657fdbdc6c293b0dd4b082f5e4c2d1d.html">pruner</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">pruner.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="defs_8h_source.html">fplll/defs.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="lll_8h_source.html">fplll/lll.h</a>&quot;</code><br />
<code>#include &lt;vector&gt;</code><br />
<code>#include &quot;<a class="el" href="pruner__simplex_8h_source.html">pruner_simplex.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="pruner_8h__dep__incl.svg" width="2694" height="426"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</div>
<p><a href="pruner_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPruningParams.html">PruningParams</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPruner.html">Pruner&lt; FT &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classPruner.html" title="Pruner class, to compute and optimize cost and success probability of pruned enumeration.">Pruner</a> class, to compute and optimize cost and success probability of pruned enumeration.  <a href="classPruner.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a9c217e9d64736eb9785881809870b507"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pruner_8h.html#a9c217e9d64736eb9785881809870b507">PRUNER_MAX_N</a>&#160;&#160;&#160;2047</td></tr>
<tr class="separator:a9c217e9d64736eb9785881809870b507"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad7e0de4ab74f28cbbda1e86c82bea6ca"><td class="memTemplParams" colspan="2">template&lt;class FT &gt; </td></tr>
<tr class="memitem:ad7e0de4ab74f28cbbda1e86c82bea6ca"><td class="memTemplItemLeft" align="right" valign="top">int&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="pruner_8h.html#ad7e0de4ab74f28cbbda1e86c82bea6ca">run_pruner_f</a> (<a class="el" href="classZZ__mat.html">ZZ_mat</a>&lt; mpz_t &gt; &amp;B, int sel_ft, int precision=0, int prune_start=0, int prune_end=1, double prune_pre_nodes=1e6, double prune_min_prob=-1, double gh_factor=1.0)</td></tr>
<tr class="memdesc:ad7e0de4ab74f28cbbda1e86c82bea6ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run pruner on B.  <a href="pruner_8h.html#ad7e0de4ab74f28cbbda1e86c82bea6ca">More...</a><br /></td></tr>
<tr class="separator:ad7e0de4ab74f28cbbda1e86c82bea6ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebc4ae5714bfec49d97c928ad745c4a7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pruner_8h.html#aebc4ae5714bfec49d97c928ad745c4a7">run_pruner</a> (<a class="el" href="classZZ__mat.html">ZZ_mat</a>&lt; mpz_t &gt; &amp;B, <a class="el" href="defs_8h.html#aa039815ec6b74d0fe4cb016415781c08">FloatType</a> float_type=<a class="el" href="defs_8h.html#aa039815ec6b74d0fe4cb016415781c08ad9ebca53c82a7c8c161584806f09eb2b">FT_DEFAULT</a>, int precision=0, int prune_start=0, int prune_end=1, double prune_pre_nodes=1e6, double prune_min_prob=-1, double gh_factor=1.0)</td></tr>
<tr class="memdesc:aebc4ae5714bfec49d97c928ad745c4a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run pruner on B.  <a href="pruner_8h.html#aebc4ae5714bfec49d97c928ad745c4a7">More...</a><br /></td></tr>
<tr class="separator:aebc4ae5714bfec49d97c928ad745c4a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48d3ce6de4f4637a39b438fca40474c3"><td class="memTemplParams" colspan="2">template&lt;class FT &gt; </td></tr>
<tr class="memitem:a48d3ce6de4f4637a39b438fca40474c3"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="pruner_8h.html#a48d3ce6de4f4637a39b438fca40474c3">prune</a> (<a class="el" href="classPruningParams.html">PruningParams</a> &amp;pruning, const double enumeration_radius, const double preproc_cost, const vector&lt; double &gt; &amp;gso_r, const double target=.9, const <a class="el" href="defs_8h.html#aca0154ca2cffd3fbbde877b7436333c0">PrunerMetric</a> metric=<a class="el" href="defs_8h.html#aca0154ca2cffd3fbbde877b7436333c0a2e463055f41a65c3fc05823b7b267ed9">PRUNER_METRIC_PROBABILITY_OF_SHORTEST</a>, const int flags=<a class="el" href="defs_8h.html#aeecb158ab74a8748b28a07c8cb3d5925a3281602adb24c04e3e37d04e152438c1">PRUNER_GRADIENT</a>)</td></tr>
<tr class="memdesc:a48d3ce6de4f4637a39b438fca40474c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Search for optimal pruning parameters.  <a href="pruner_8h.html#a48d3ce6de4f4637a39b438fca40474c3">More...</a><br /></td></tr>
<tr class="separator:a48d3ce6de4f4637a39b438fca40474c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38442a01ccaad056a9d2e5c82b605f19"><td class="memTemplParams" colspan="2">template&lt;class FT &gt; </td></tr>
<tr class="memitem:a38442a01ccaad056a9d2e5c82b605f19"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="pruner_8h.html#a38442a01ccaad056a9d2e5c82b605f19">prune</a> (<a class="el" href="classPruningParams.html">PruningParams</a> &amp;pruning, double enumeration_radius, const double preproc_cost, const vector&lt; vector&lt; double &gt; &gt; &amp;gso_rs, const double target=.9, const <a class="el" href="defs_8h.html#aca0154ca2cffd3fbbde877b7436333c0">PrunerMetric</a> metric=<a class="el" href="defs_8h.html#aca0154ca2cffd3fbbde877b7436333c0a2e463055f41a65c3fc05823b7b267ed9">PRUNER_METRIC_PROBABILITY_OF_SHORTEST</a>, const int flags=<a class="el" href="defs_8h.html#aeecb158ab74a8748b28a07c8cb3d5925a3281602adb24c04e3e37d04e152438c1">PRUNER_GRADIENT</a>)</td></tr>
<tr class="memdesc:a38442a01ccaad056a9d2e5c82b605f19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Search for optimal Pruning parameters, averaging over several basis.  <a href="pruner_8h.html#a38442a01ccaad056a9d2e5c82b605f19">More...</a><br /></td></tr>
<tr class="separator:a38442a01ccaad056a9d2e5c82b605f19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58867981af8067eec1d099af09761d88"><td class="memTemplParams" colspan="2">template&lt;class FT &gt; </td></tr>
<tr class="memitem:a58867981af8067eec1d099af09761d88"><td class="memTemplItemLeft" align="right" valign="top">FT&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="pruner_8h.html#a58867981af8067eec1d099af09761d88">svp_probability</a> (const <a class="el" href="classPruningParams.html">PruningParams</a> &amp;pruning)</td></tr>
<tr class="memdesc:a58867981af8067eec1d099af09761d88"><td class="mdescLeft">&#160;</td><td class="mdescRight">Probability that a pruned enumeration indeed returns the shortest vector.  <a href="pruner_8h.html#a58867981af8067eec1d099af09761d88">More...</a><br /></td></tr>
<tr class="separator:a58867981af8067eec1d099af09761d88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42b8664ed91ad5b1c76d7350ce04e04d"><td class="memTemplParams" colspan="2">template&lt;class FT &gt; </td></tr>
<tr class="memitem:a42b8664ed91ad5b1c76d7350ce04e04d"><td class="memTemplItemLeft" align="right" valign="top">FT&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="pruner_8h.html#a42b8664ed91ad5b1c76d7350ce04e04d">svp_probability</a> (const vector&lt; double &gt; &amp;pr)</td></tr>
<tr class="memdesc:a42b8664ed91ad5b1c76d7350ce04e04d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Probability that a pruned enumeration indeed returns the shortest vector.  <a href="pruner_8h.html#a42b8664ed91ad5b1c76d7350ce04e04d">More...</a><br /></td></tr>
<tr class="separator:a42b8664ed91ad5b1c76d7350ce04e04d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a9c217e9d64736eb9785881809870b507" name="a9c217e9d64736eb9785881809870b507"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c217e9d64736eb9785881809870b507">&#9670;&nbsp;</a></span>PRUNER_MAX_N</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PRUNER_MAX_N&#160;&#160;&#160;2047</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a48d3ce6de4f4637a39b438fca40474c3" name="a48d3ce6de4f4637a39b438fca40474c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48d3ce6de4f4637a39b438fca40474c3">&#9670;&nbsp;</a></span>prune() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class FT &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void prune </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPruningParams.html">PruningParams</a> &amp;&#160;</td>
          <td class="paramname"><em>pruning</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>enumeration_radius</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>preproc_cost</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>gso_r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>target</em> = <code>.9</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="defs_8h.html#aca0154ca2cffd3fbbde877b7436333c0">PrunerMetric</a>&#160;</td>
          <td class="paramname"><em>metric</em> = <code><a class="el" href="defs_8h.html#aca0154ca2cffd3fbbde877b7436333c0a2e463055f41a65c3fc05823b7b267ed9">PRUNER_METRIC_PROBABILITY_OF_SHORTEST</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>flags</em> = <code><a class="el" href="defs_8h.html#aeecb158ab74a8748b28a07c8cb3d5925a3281602adb24c04e3e37d04e152438c1">PRUNER_GRADIENT</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Search for optimal pruning parameters. </p>
<p >Wrapping function for the <a class="el" href="classPruner.html" title="Pruner class, to compute and optimize cost and success probability of pruned enumeration.">Pruner</a> class. The function is templated by a Floating Point Type, which are used for internal computations.</p>
<p >Calling M the metric function (Success proba or expectation of number of results), C the cost function of enumeration, P the preproc_cost, this function tries to provide a pruning vector p essentially minimizing (C(p) + P) / M(p). The pruning vector is expressed as relative (squared) length with respect to the enumeration radius, i.e. the entries of p are in the interval (0,1), and are always decreasing.</p>
<p >Small amendents are made to also take account for the desired target value of the metric after repeating several enumeration. In particular the chosen pruning value should not excess the target, and a bit more enumeration may be chosen if it get is to the the desired result without any retrial.</p>
<p >The cost C of enumeration under the gaussian heuristic, and depends on gso_r. The function S is define by the metric parameter (and depend on gso_r for EXPECTED_SOLUTIONS)</p>
<p >This function provides access to three algorithm to optimize those parameter</p>
<ul>
<li>greedy (deactivated by setting flag PRUNER_START_FROM_INPUT)</li>
<li>gradient decent (activated by setting flag PRUNER_GRADIENT)</li>
<li>Nelder-Mead Algorithm (activated by setting flag PRUNER_NELDER_MEAD)</li>
</ul>
<p >If several algortihm are activated, they will all be ran, using the output of the previous as there starting point.</p>
<p >Greedy shoud be very fast, and essentially tries to produce pruning parameters generating a flat enumeration tree. It is meant to quickly provide pruning parameters, say up to block 40. It is also used as a decent starting point for the gradient descent to be quicker. It can be argued that this strategy is a factor O(n) away from optimal, probably less in practice.</p>
<p >The gradient descent is rather standard. The gradient is computed numerically, and then several steps are made keeping the same direction until a local minima in this direction is found (the rational is that computing the gradient is 2n times more expensive than test a point). It is to be expected that this method suffers from convergence and numerical instability especially due to numerical differentiation. It remains rather fast and seems to properly handle basis up to dimension LLL reduced-basis up to dim ~70, and more if the basis is strongly reduced.</p>
<p >The Nelder-Mead algorithm is a descent algorithm praised for its robustness. It's pretty cool, you should really read about it: <a href="https://en.wikipedia.org/wiki/Nelder%E2%80%93Mead_method">https://en.wikipedia.org/wiki/Nelder%E2%80%93Mead_method</a> . In brief, it maintains a simplex of points and each step consist in improving the worst of them by reflexion expansion or contraction, or shrinking the all simplex if the above failed. This method is somehow aware not only of the gradient, but also the curvature of the optimized function. Thanks to contraction and expansion, it can slowly "pass through the eye of a needle," and re-accelerate the descent after that.</p>
<p >Maybe you don't care so much of all this... I'm just procratinating low-level documentation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pruning</td><td>Output of the function. Also used as an input if PRUNER_START_FROM_INPUT is on. </td></tr>
    <tr><td class="paramname">enumeration_radius</td><td>radius of the desired enumeration </td></tr>
    <tr><td class="paramname">preproc_cost</td><td>cost of preprocessing (i.e. additive cost for a retrying an enumeration) </td></tr>
    <tr><td class="paramname">gso_r</td><td>vector of Gram-Schmidt length (squared) of the enumerated block </td></tr>
    <tr><td class="paramname">target</td><td>desired target success probability/expected solutions after all retrial. </td></tr>
    <tr><td class="paramname">metric</td><td>metric is to be optimized : PRUNER_METRIC_PROBABILITY_OF_SHORTEST or PRUNER_METRIC_EXPECTED_SOLUTIONS </td></tr>
    <tr><td class="paramname">flags</td><td>complementary parameters : PRUNER_CVP PRUNER_START_FROM_INPUT PRUNER_GRADIENT PRUNER_NELDER_MEAD PRUNER_VERBOSE</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return value is done by reference on parameter pruning. </dd></dl>

</div>
</div>
<a id="a38442a01ccaad056a9d2e5c82b605f19" name="a38442a01ccaad056a9d2e5c82b605f19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38442a01ccaad056a9d2e5c82b605f19">&#9670;&nbsp;</a></span>prune() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class FT &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void prune </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPruningParams.html">PruningParams</a> &amp;&#160;</td>
          <td class="paramname"><em>pruning</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>enumeration_radius</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>preproc_cost</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const vector&lt; vector&lt; double &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>gso_rs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>target</em> = <code>.9</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="defs_8h.html#aca0154ca2cffd3fbbde877b7436333c0">PrunerMetric</a>&#160;</td>
          <td class="paramname"><em>metric</em> = <code><a class="el" href="defs_8h.html#aca0154ca2cffd3fbbde877b7436333c0a2e463055f41a65c3fc05823b7b267ed9">PRUNER_METRIC_PROBABILITY_OF_SHORTEST</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>flags</em> = <code><a class="el" href="defs_8h.html#aeecb158ab74a8748b28a07c8cb3d5925a3281602adb24c04e3e37d04e152438c1">PRUNER_GRADIENT</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Search for optimal Pruning parameters, averaging over several basis. </p>
<p >Wrapping function for the <a class="el" href="classPruner.html" title="Pruner class, to compute and optimize cost and success probability of pruned enumeration.">Pruner</a> class.</p>
<p >Same as <a class="el" href="pruner_8h.html#a48d3ce6de4f4637a39b438fca40474c3" title="Search for optimal pruning parameters.">prune()</a>, but averaging cost over several bases (without slowing down the search)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pruning</td><td>Output of the function. Also used as an input if PRUNER_START_FROM_INPUT is on. </td></tr>
    <tr><td class="paramname">enumeration_radius</td><td>radius of the desired enumeration </td></tr>
    <tr><td class="paramname">preproc_cost</td><td>cost of preprocessing (i.e. additive cost for a retrying an enumeration) </td></tr>
    <tr><td class="paramname">gso_rs</td><td>vector of vector Gram-Schmidt length (squared) of the enumerated block over several bases </td></tr>
    <tr><td class="paramname">target</td><td>desired target success probability/expected solutions after all retrial. </td></tr>
    <tr><td class="paramname">metric</td><td>metric is to be optimized : PRUNER_METRIC_PROBABILITY_OF_SHORTEST or PRUNER_METRIC_EXPECTED_SOLUTIONS </td></tr>
    <tr><td class="paramname">flags</td><td>complementary parameters : PRUNER_CVP PRUNER_START_FROM_INPUT PRUNER_GRADIENT PRUNER_NELDER_MEAD PRUNER_VERBOSE </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aebc4ae5714bfec49d97c928ad745c4a7" name="aebc4ae5714bfec49d97c928ad745c4a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebc4ae5714bfec49d97c928ad745c4a7">&#9670;&nbsp;</a></span>run_pruner()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int run_pruner </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classZZ__mat.html">ZZ_mat</a>&lt; mpz_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>B</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="defs_8h.html#aa039815ec6b74d0fe4cb016415781c08">FloatType</a>&#160;</td>
          <td class="paramname"><em>float_type</em> = <code><a class="el" href="defs_8h.html#aa039815ec6b74d0fe4cb016415781c08ad9ebca53c82a7c8c161584806f09eb2b">FT_DEFAULT</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>precision</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>prune_start</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>prune_end</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>prune_pre_nodes</em> = <code>1e6</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>prune_min_prob</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>gh_factor</em> = <code>1.0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Run pruner on B. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">B</td><td>basis of the lattice to be reduced </td></tr>
    <tr><td class="paramname">float_type</td><td>specifies the data type used for GSO computations (see <a class="el" href="defs_8h.html">defs.h</a> for options) </td></tr>
    <tr><td class="paramname">precision</td><td>specifies the precision if float_type=FT_MPFR (and needs to be &gt; 0 in that case) ignored otherwise </td></tr>
    <tr><td class="paramname">prune_start</td><td>start index of pruning (first index being 0) </td></tr>
    <tr><td class="paramname">prune_end</td><td>(prune_end-1) is end index of pruning </td></tr>
    <tr><td class="paramname">prune_pre_nodes</td><td>preprocessing cost in the number of nodes </td></tr>
    <tr><td class="paramname">prune_min_prob</td><td>target probability or expected number of solutions (depending on the metric which could be either PRUNER_METRIC_PROBABILITY_OF_SHORTEST or PRUNER_METRIC_EXPECTED_SOLUTIONS. If PRUNER_SINGLE is enabled, the optimization will try to minimize the single_enum_cost() while achieving the prune_min_prob; If PRUNER_SINGLE is disabled (default), the optimization will try to minimize single_enum_cost() * trials + preproc_cost * (trials - 1.0). </td></tr>
    <tr><td class="paramname">gh_factor</td><td>input GH factor to compute the enumeration radius. The computed enumeration radius will be min(GH*gh_factor, |b_i*|). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the status of the pruning </dd></dl>

</div>
</div>
<a id="ad7e0de4ab74f28cbbda1e86c82bea6ca" name="ad7e0de4ab74f28cbbda1e86c82bea6ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7e0de4ab74f28cbbda1e86c82bea6ca">&#9670;&nbsp;</a></span>run_pruner_f()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class FT &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int run_pruner_f </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classZZ__mat.html">ZZ_mat</a>&lt; mpz_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>B</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sel_ft</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>precision</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>prune_start</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>prune_end</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>prune_pre_nodes</em> = <code>1e6</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>prune_min_prob</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>gh_factor</em> = <code>1.0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Run pruner on B. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">B</td><td>basis of the lattice to be reduced </td></tr>
    <tr><td class="paramname">sel_ft</td><td>specifies the float type used for GSO computations </td></tr>
    <tr><td class="paramname">precision</td><td>specifies the precision if sel_ft=FT_MPFR (and needs to be &gt; 0 in that case) </td></tr>
    <tr><td class="paramname">prune_start</td><td>start index of pruning (first index being 0) </td></tr>
    <tr><td class="paramname">prune_end</td><td>(prune_end-1) is end index of pruning </td></tr>
    <tr><td class="paramname">prune_pre_nodes</td><td>preprocessing cost in the number of nodes </td></tr>
    <tr><td class="paramname">prune_min_prob</td><td>target probability. If it is -1, it will optimize single_enum_cost/succ. prob while not fixing the succ. prob. If it is &gt; 0, it will fix the succ. prob and optimize the single_enum_cost. </td></tr>
    <tr><td class="paramname">gh_factor</td><td>input GH factor to compute the enumeration radius. The computed enumeration radius will be min(GH*gh_factor, |b_i*|). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the status of the pruning </dd></dl>

</div>
</div>
<a id="a58867981af8067eec1d099af09761d88" name="a58867981af8067eec1d099af09761d88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58867981af8067eec1d099af09761d88">&#9670;&nbsp;</a></span>svp_probability() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class FT &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">FT svp_probability </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classPruningParams.html">PruningParams</a> &amp;&#160;</td>
          <td class="paramname"><em>pruning</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Probability that a pruned enumeration indeed returns the shortest vector. </p>
<p >Probability that a pruned enumeration indeed returns the shortest vector. Wrapping function for the <a class="el" href="classPruner.html" title="Pruner class, to compute and optimize cost and success probability of pruned enumeration.">Pruner</a> class.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pruning</td><td>A pruning object. Only uses the coefficient field. (coefficients must start with two 1s, be decreasing and in the interval (0,1))</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>probability </dd></dl>

</div>
</div>
<a id="a42b8664ed91ad5b1c76d7350ce04e04d" name="a42b8664ed91ad5b1c76d7350ce04e04d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42b8664ed91ad5b1c76d7350ce04e04d">&#9670;&nbsp;</a></span>svp_probability() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class FT &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">FT svp_probability </td>
          <td>(</td>
          <td class="paramtype">const vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>pr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Probability that a pruned enumeration indeed returns the shortest vector. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pr</td><td>A vector of pruning bounds (coefficients must start with two 1s, be decreasing and in the interval (0,1))</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>probability </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
</div>
</div>
</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.9.4
</small></address>
</body>
        <script type="text/javascript" src="doxy-boot.js"></script>
</html>
